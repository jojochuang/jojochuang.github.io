
<!DOCTYPE html>

<html>

<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="Object store for Hadoop">
    <meta name="keywords" content="hadoop, ozone, hdds, objectstore, scale"/>
    <meta name="robots" content="index,follow"/>
    <meta name="language" content="en"/>

    <title>Apache Ozone</title>

    <base href="/">

    <link rel="canonical" href="https://ozone.apache.org">

    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css"
          integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">
    <link rel="stylesheet" href="style.css">

    
    <script>
      var _paq = window._paq = window._paq || [];
      

       
      _paq.push(['disableCookies']);
      

      _paq.push(['trackPageView']);
      _paq.push(['enableLinkTracking']);
      (function() {
        var u="//analytics.apache.org/";
        _paq.push(['setTrackerUrl', u+'matomo.php']);
        _paq.push(['setSiteId', '34']);
        var d=document, g=d.createElement('script'),
s=d.getElementsByTagName('script')[0];
        g.async=true; g.src=u+'matomo.js'; s.parentNode.insertBefore(g,s);
      })();
    </script>
    

</head>

<body>


<div class="topnav">
    <div class="container">
        <ul class="breadcrumb col-md-6">
            <li>
                <img class="asf-logo" src="asf_feather.png"/>
                <a href="https://www.apache.org">Apache Software Foundation</a>
            </li>
        </ul>
        <div class="col-md-6">
            <ul class="pull-right breadcrumb">
                <li><a href="https://www.apache.org/licenses/">License</a></li>
                <li><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></li>
                <li><a href="https://www.apache.org/events/current-event">Events</a></li>
                <li><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></li>
                <li><a href="https://www.apache.org/security/">Security</a></li>
        </ul>
        </div>
    </div>

    <nav class="navbar navbar-default navbar-static-top" role="navigation">
        <div class="container">
            <div class="navbar-header">
                <ul class="nav navbar-nav navbar-brand">
                    <li>
                        <img src="ozone-logo.png" alt="Ozone logo"/>
                        <a href="/">Apache Ozone&trade;</a>
                    </li>
                </ul>
                <button type="button" class="navbar-toggle collapsed" data-toggle="collapse"
                        data-target="#ozone-menu" aria-expanded="false">
                    <span class="sr-only">Toggle navigation</span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
            </div>

            <div id="ozone-menu" class="collapse navbar-collapse">
                <ul class="nav navbar-nav navbar-right">
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Get Started <span class="caret"></span></a>
                         <ul class="dropdown-menu">
                            <li><a href="tutorials/getstarted">Get started</a></li>
                            <li><a href="tutorials">Tutorials</a></li>
                            <li><a href="videos">Videos</a></li>
                            <li><a href="faq">FAQ</a></li>
                         </ul>
                    </li>
                    <li><a href="downloads">Download</a></li>
                    <li><a href="news">News</a></li>
                    <li><a href="docs">Documentation</a></li>
                    <li class="dropdown">
                        <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Community <span class="caret"></span></a>
                         <ul class="dropdown-menu">
                            <li><a href="community">Get involved</a></li>
                            <li><a href="events">Events</a></li>
                            <li><a href="casestudies">Case studies</a></li>
                            <li><a href="team">Team</a></li>
                         </ul>
                    </li>
                    
                    <li><a href="https://cwiki.apache.org/confluence/display/OZONE" target="_blank">Wiki <small><span class="glyphicon glyphicon-new-window"></span></small></a></li>
                </ul>
            </div>

    </nav>

    <div style="max-height: 200px; overflow: hidden;">
      <img src="sunrise-ozone.jpg" style="width: 100%; left:0px;"/>
    </div>

</div>

</div>

<article>
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-2">
            <nav id="TableOfContents"></nav>
            </div>
            <div class="col-md-6">
            <h1>Ozone on Kubernetes</h1>
            <!-- raw HTML omitted -->
<!-- raw HTML omitted -->

<div style="position: relative; padding-bottom: 56.25%; height: 0; overflow: hidden;">
  <iframe src="https://www.youtube.com/embed/jIXndjHv5F8" style="position: absolute; top: 0; left: 0; width: 100%; height: 100%; border:0;" allowfullscreen title="YouTube Video"></iframe>
</div>


<div class="panel panel-default">
    <div class="panel-heading">Requirements</div>
    <div class="panel-body">
        <ul>
<li>Working kubernetes cluster (LoadBalancer, PersistentVolume are not required)</li>
<li>kubectl</li>
</ul>

    </div>
</div>

<p>As the <em>apache/ozone</em> docker images are available from the dockerhub the deployment process is very similar to Minikube deployment. The only big difference is that we have dedicated set of k8s files for hosted clusters (for example we can use one datanode per host)
Deploy to kubernetes</p>
<p><code>kubernetes/examples</code> folder of the ozone distribution contains kubernetes deployment resource files for multiple use cases.</p>
<p>To deploy to a hosted cluster use the ozone subdirectory:</p>
<pre tabindex="0"><code>cd kubernetes/examples/ozone
kubectl apply -f .
</code></pre><p>And you can check the results with</p>
<pre tabindex="0"><code>kubectl get pod
Access the services
</code></pre><p>Now you can access any of the services. By default the services are not published but you can access them with port-forward rules.</p>
<pre tabindex="0"><code>kubectl port-forward s3g-0 9878:9878
kubectl port-forward scm-0 9876:9876
</code></pre>
            </div>
        </div>
    </div>
</article>

<footer>
    <div class="container">
        <div class="col-md-8">
            <div class="col-md-6">
                <h3 class="card-title">Apache</h3>
                <p class="card-text"><a href="https://www.apache.org/">Foundation</a></p>
                <p class="card-text"><a href="https://www.apache.org/licenses/">License</a></p>
                <p class="card-text"><a href="https://www.apache.org/foundation/sponsorship.html">Sponsorship</a></p>
                <p class="card-text"><a href="https://www.apache.org/events/current-event">Events</a></p>
                <p class="card-text"><a href="https://www.apache.org/foundation/thanks.html">Thanks</a></p>
                <p class="card-text"><a href="https://www.apache.org/security/">Security</a></p>
                <p class="card-text"><a href="https://privacy.apache.org/policies/privacy-policy-public.html">Privacy</a></p>
            </div>
            <div class="col-md-6">
                <h3 class="card-title">Community</h3>
                <p class="card-text"><a href="/community/">Get involved</a></p>
                <p class="card-text"><a href="https://github.com/apache/ozone">GitHub</a></p>
                <p class="card-text"><a href="https://cwiki.apache.org/confluence/display/OZONE">Wiki</a></p>
                <p class="card-text"><a href="https://the-asf.slack.com/archives/C5RK7PWA1">Slack</a></p>
                
                
            </div>
        </div>
        <div class="col-md-4">
            <h3 class="card-title">Follow us</h3>
            <p class="card-text"><a href="https://twitter.com/apacheozone">Twitter</a></p>
            <p class="card-text"><a href="#">YouTube</a></p>
            <p class="card-text"><a href="#">LinkedIn</a></p>
            
        </div>

        <div class="col-md-12 trademark">
            <p>&copy; 2022 <a href="http://apache.org">The Apache Software Foundation</a>,<br/>
                Apache, Apache Hadoop, Apache Ozone, the Apache feather logo, are trademarks of The Apache Software Foundation.
            <p>
        </div>
    </div>
</footer>


<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"
        integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS"
        crossorigin="anonymous"></script>


</body>
</html>

